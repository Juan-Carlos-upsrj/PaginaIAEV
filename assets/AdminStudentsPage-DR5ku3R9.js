import{a as E,j as e}from"./index-BElKbzOc.js";import{b as l}from"./react-vendor-DzKpeQDD.js";const q=()=>{const{students:x,allowedEmails:g,authorizeStudent:h,quarters:G,groups:p,addGroup:y,removeGroup:j,updateGroup:k,updateStudent:f}=E(),[d,o]=l.useState("students"),[v,c]=l.useState(!1),[u,m]=l.useState(""),[i,b]=l.useState(""),[t,a]=l.useState(null),[s,n]=l.useState(null),N=r=>{r.preventDefault(),h(u.trim().toLowerCase()),m(""),c(!1)},w=r=>{r.preventDefault(),i.trim()&&(y(i),b(""))},C=r=>{r.preventDefault(),t&&(f(t),a(null))},S=r=>{r.preventDefault(),s&&(k(s.original,s.current),n(null))};return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gestión de Alumnos"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Administra los estudiantes y grupos académicos."})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>{o("students"),c(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 shadow-lg shadow-green-500/30",children:[e.jsx("ion-icon",{name:"school-outline"}),"Autorizar Alumno"]})})]}),e.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>o("students"),className:`pb-3 px-4 text-sm font-medium transition-colors relative ${d==="students"?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Estudiantes",d==="students"&&e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 dark:bg-blue-400 rounded-t-full"})]}),e.jsxs("button",{onClick:()=>o("groups"),className:`pb-3 px-4 text-sm font-medium transition-colors relative ${d==="groups"?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Grupos",d==="groups"&&e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-600 dark:bg-blue-400 rounded-t-full"})]})]}),d==="groups"?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Crear Nuevo Grupo"}),e.jsxs("form",{onSubmit:w,className:"flex gap-4",children:[e.jsx("input",{type:"text",value:i,onChange:r=>b(r.target.value),placeholder:"Nombre del grupo (ej. E, IC-2024)",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("button",{type:"submit",disabled:!i.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Agregar"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:p.map(r=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center group hover:shadow-md transition-all",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:r}),e.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-all",children:[e.jsx("button",{onClick:()=>n({original:r,current:r}),className:"text-gray-400 hover:text-blue-500",title:"Editar grupo",children:e.jsx("ion-icon",{name:"create-outline"})}),e.jsx("button",{onClick:()=>j(r),className:"text-gray-400 hover:text-red-500",title:"Eliminar grupo",children:e.jsx("ion-icon",{name:"trash-outline"})})]})]},r))})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"col-span-full mb-8",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4",children:"Correos Autorizados"}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:g.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(r=>e.jsxs("span",{className:"px-3 py-1 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300 rounded-full text-sm border border-green-100 dark:border-green-800 flex items-center gap-2",children:[r,e.jsx("ion-icon",{name:"checkmark-circle",style:{fontSize:"16px"}})]},r))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No hay correos autorizados aún. Agrega uno para permitir el registro."})})]}),x.map(r=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:r.avatar||`https://ui-avatars.com/api/?name=${r.name}`,alt:r.name,className:"w-12 h-12 rounded-full ring-2 ring-white dark:ring-gray-700 shadow-sm"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:r.name}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.email})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>a(r),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar estudiante",children:e.jsx("ion-icon",{name:"create-outline",style:{fontSize:"20px"}})}),e.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-xs rounded-full font-medium",children:"Estudiante"})]})]}),e.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-700 pt-4 mt-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Cuatrimestre"}),e.jsxs("p",{className:"font-bold text-gray-900 dark:text-white",children:[r.cuatrimestre,"º"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-1",children:"Grupo"}),e.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:r.group})]})]})]},r.id)),x.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12 bg-gray-50 dark:bg-gray-800/50 rounded-2xl border-2 border-dashed border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"text-gray-400 mb-3",children:e.jsx("ion-icon",{name:"people-outline",style:{fontSize:"48px"}})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No hay estudiantes registrados"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Comienza autorizando un correo para que un alumno pueda registrarse."})]})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md shadow-2xl border border-gray-100 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"Autorizar Nuevo Estudiante"}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg mb-4",children:e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Ingresa el correo institucional del alumno. El alumno podrá registrarse usando este correo."})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Correo Institucional (@iaev.mx)"}),e.jsx("input",{type:"email",required:!0,value:u,onChange:r=>m(r.target.value),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"matricula@alumno.iaev.mx"})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Autorizar"})]})]})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md shadow-2xl border border-gray-100 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"Editar Estudiante"}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre Completo"}),e.jsx("input",{type:"text",required:!0,value:t.name,onChange:r=>a({...t,name:r.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Correo"}),e.jsx("input",{type:"email",required:!0,value:t.email,onChange:r=>a({...t,email:r.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cuatrimestre"}),e.jsx("input",{type:"number",min:"1",max:"10",required:!0,value:t.cuatrimestre,onChange:r=>a({...t,cuatrimestre:parseInt(r.target.value)}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Grupo"}),e.jsx("input",{type:"text",required:!0,value:t.group||"",onChange:r=>a({...t,group:r.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>a(null),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Guardar Cambios"})]})]})]})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md shadow-2xl border border-gray-100 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:"Editar Grupo"}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nombre del Grupo"}),e.jsx("input",{type:"text",required:!0,value:s.current,onChange:r=>n({...s,current:r.target.value}),className:"w-full px-3 py-2 border rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{type:"button",onClick:()=>n(null),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Guardar Cambios"})]})]})]})})]})};export{q as default};
