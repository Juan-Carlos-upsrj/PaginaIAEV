import{b as m,u as g,a as h,j as e}from"./index-D6mZ5jKc.js";import{u}from"./react-vendor-DzKpeQDD.js";const j=()=>{const a=u(),{courses:o,deleteCourse:x}=m(),{user:s}=g(),{getGlobalStats:c}=h(),t=c(),i=o.filter(r=>{var n;if((s==null?void 0:s.email)==="admin@iaev.mx")return!0;const d=(n=s==null?void 0:s.assignedCourses)==null?void 0:n.includes(r.id),l=r.instructorId===(s==null?void 0:s.id);return d||l});return e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Panel de Administración"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"Visión general del rendimiento académico."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>a("/admin/users"),className:"px-4 py-2 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 border border-gray-200 dark:border-gray-700 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm",children:[e.jsx("ion-icon",{name:"people-outline"}),"Gestionar Docentes"]}),e.jsxs("button",{onClick:()=>a("/admin/course/new"),className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-lg shadow-blue-500/30",children:[e.jsx("ion-icon",{name:"add-circle-outline"}),"Nuevo Curso"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-xl",children:e.jsx("ion-icon",{name:"school-outline",style:{fontSize:"24px"}})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Promedio General"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.averageGrade})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-xl",children:e.jsx("ion-icon",{name:"calendar-outline",style:{fontSize:"24px"}})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Asistencia"}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.averageAttendance,"%"]})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400 rounded-xl",children:e.jsx("ion-icon",{name:"people-outline",style:{fontSize:"24px"}})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Alumnos Activos"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.totalStudents})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl border border-gray-100 dark:border-gray-700 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 rounded-xl",children:e.jsx("ion-icon",{name:"library-outline",style:{fontSize:"24px"}})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium",children:"Cursos Activos"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.activeCourses})]})]})})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Mis Cursos"})}),i.length===0?e.jsxs("div",{className:"text-center py-20 bg-white dark:bg-gray-800 rounded-2xl border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-400",children:e.jsx("ion-icon",{name:"library-outline",class:"w-8 h-8"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No hay cursos asignados"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1 mb-6",children:"No tienes cursos asignados o creados todavía."}),e.jsx("button",{onClick:()=>a("/admin/course/new"),className:"text-blue-600 font-medium hover:underline",children:"Crear Curso"})]}):e.jsx("div",{className:"grid grid-cols-1 gap-6",children:i.map(r=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl flex flex-col sm:flex-row items-start sm:items-center gap-6 hover:shadow-lg transition-shadow border border-gray-100 dark:border-gray-700",children:[e.jsx("div",{className:"w-full sm:w-48 h-32 bg-gray-100 dark:bg-gray-700 rounded-xl overflow-hidden flex-shrink-0 relative group",children:r.thumbnail?e.jsx("img",{src:r.thumbnail,alt:r.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900 dark:to-purple-900 text-gray-500 dark:text-gray-400",children:e.jsx("ion-icon",{name:"image-outline",class:"w-8 h-8"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white truncate",children:r.title}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 line-clamp-2",children:r.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-4 text-sm text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("ion-icon",{name:"layers-outline"}),r.modules.length," Módulos"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("ion-icon",{name:"videocam-outline"}),r.modules.reduce((d,l)=>d+l.lessons.length,0)," Lecciones"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto mt-4 sm:mt-0",children:[e.jsx("button",{onClick:()=>a(`/admin/course/${r.id}`),className:"flex-1 sm:flex-none px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-lg transition-colors border border-gray-200 dark:border-gray-600",children:"Editar"}),e.jsx("button",{onClick:()=>{confirm("¿Estás seguro de eliminar este curso?")&&x(r.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Eliminar curso",children:e.jsx("ion-icon",{name:"trash-outline",class:"w-5 h-5"})})]})]},r.id))})]})};export{j as default};
