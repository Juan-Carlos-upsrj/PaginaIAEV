import{u as f,b as w,j as e}from"./index-D6mZ5jKc.js";import{b as m}from"./react-vendor-DzKpeQDD.js";const C=()=>{var c,x,g,b;const{user:a,updateProfile:u,switchProfile:h}=f(),{courses:p}=w(),[t,n]=m.useState(!1),[s,o]=m.useState({name:(a==null?void 0:a.name)||"",bio:(a==null?void 0:a.bio)||"",avatar:(a==null?void 0:a.avatar)||"",twitter:((c=a==null?void 0:a.socialLinks)==null?void 0:c.twitter)||"",linkedin:((x=a==null?void 0:a.socialLinks)==null?void 0:x.linkedin)||"",github:((g=a==null?void 0:a.socialLinks)==null?void 0:g.github)||"",website:((b=a==null?void 0:a.socialLinks)==null?void 0:b.website)||""});if(!a)return null;const y=p.filter(r=>r.modules.reduce((d,i)=>d+i.lessons.length,0)>0&&r.modules.every(d=>d.lessons.every(i=>a.completedLessons.includes(i.id)))).length,j=Math.round(a.completedLessons.length*15/60),v=()=>{u({name:s.name,bio:s.bio,avatar:s.avatar,socialLinks:{twitter:s.twitter,linkedin:s.linkedin,github:s.github,website:s.website}}),n(!1)};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8 transition-colors duration-300",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl border border-gray-100 dark:border-gray-700 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-r from-blue-600 to-purple-600"}),e.jsxs("div",{className:"relative flex flex-col md:flex-row items-end gap-6 pt-12 px-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:a.avatar||`https://ui-avatars.com/api/?name=${a.name}&background=random&size=200`,alt:a.name,className:"w-32 h-32 rounded-full border-4 border-white dark:border-gray-800 shadow-lg object-cover bg-white"}),t&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("ion-icon",{name:"camera-outline",class:"text-white text-3xl"})})]}),e.jsx("div",{className:"flex-1 mb-2",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:a.name}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:a.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-xs font-bold uppercase tracking-wider",children:a.role==="teacher"?"Profesor":"Estudiante"}),e.jsxs("span",{className:"px-3 py-1 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 text-xs font-bold uppercase tracking-wider",children:["Nivel ",a.level]})]})]}),e.jsx("button",{onClick:()=>t?v():n(!0),className:`px-6 py-2 rounded-xl font-bold transition-all ${t?"bg-green-500 hover:bg-green-600 text-white shadow-lg shadow-green-500/30":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-900 dark:text-white"}`,children:t?"Guardar Cambios":"Editar Perfil"})]})})]}),e.jsxs("div",{className:"mt-8 px-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2 font-medium text-gray-600 dark:text-gray-300",children:[e.jsxs("span",{children:["XP: ",a.xp]}),e.jsxs("span",{children:["Siguiente Nivel: ",a.level*100," XP"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-full rounded-full transition-all duration-1000",style:{width:`${a.xp%100}%`}})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("ion-icon",{name:"person-outline",class:"text-blue-500"})," Sobre Mí"]}),t?e.jsx("textarea",{value:s.bio,onChange:r=>o({...s,bio:r.target.value}),className:"w-full p-3 rounded-xl bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 focus:ring-2 focus:ring-blue-500 outline-none transition-all min-h-[120px]",placeholder:"Cuéntanos un poco sobre ti..."}):e.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:a.bio||"Aún no has añadido una biografía."})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("ion-icon",{name:"share-social-outline",class:"text-purple-500"})," Redes Sociales"]}),e.jsx("div",{className:"space-y-3",children:["twitter","linkedin","github","website"].map(r=>{var l;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-gray-600 dark:text-gray-300",children:e.jsx("ion-icon",{name:r==="website"?"globe-outline":`logo-${r}`})}),t?e.jsx("input",{type:"text",value:s[r],onChange:d=>o({...s,[r]:d.target.value}),placeholder:`Tu usuario de ${r}`,className:"flex-1 p-2 rounded-lg bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 text-sm focus:ring-2 focus:ring-blue-500 outline-none"}):(l=a.socialLinks)!=null&&l[r]?e.jsx("a",{href:"#",className:"text-blue-600 hover:underline text-sm font-medium",children:a.socialLinks[r]}):e.jsx("span",{className:"text-gray-400 text-sm italic",children:"No conectado"})]},r)})})]})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border border-gray-100 dark:border-gray-700 text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-blue-600 mb-1",children:y}),e.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold tracking-wider",children:"Cursos Completados"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border border-gray-100 dark:border-gray-700 text-center",children:[e.jsxs("div",{className:"text-4xl font-bold text-purple-600 mb-1",children:[j,"h"]}),e.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold tracking-wider",children:"Horas de Aprendizaje"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-3xl border border-gray-100 dark:border-gray-700 text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-green-600 mb-1",children:a.achievements.length}),e.jsx("div",{className:"text-xs text-gray-500 uppercase font-bold tracking-wider",children:"Logros Desbloqueados"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-sm border border-gray-100 dark:border-gray-700",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx("ion-icon",{name:"trophy-outline",class:"text-yellow-500"})," Tus Logros"]}),a.achievements.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6",children:a.achievements.map(r=>e.jsxs("div",{className:"flex flex-col items-center text-center group",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-yellow-100 dark:bg-yellow-900/30 flex items-center justify-center text-4xl text-yellow-600 dark:text-yellow-400 mb-3 group-hover:scale-110 transition-transform duration-300 shadow-lg shadow-yellow-500/20",children:e.jsx("ion-icon",{name:r.icon})}),e.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:r.title}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:r.description})]},r.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 text-4xl text-gray-400",children:e.jsx("ion-icon",{name:"lock-closed-outline"})}),e.jsx("p",{className:"text-gray-500",children:"Aún no has desbloqueado logros. ¡Completa lecciones para ganar insignias!"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 text-white rounded-3xl p-8 shadow-xl border border-gray-700",children:[e.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[e.jsx("ion-icon",{name:"construct-outline",class:"text-yellow-500"})," Herramientas de Desarrollo"]}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Selecciona un perfil para probar diferentes escenarios de Kardex:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["new_student","advanced_student","irregular_student"].map(r=>{const l={new_student:"Nuevo Ingreso (1º Cuatri)",advanced_student:"Avanzado (4º Cuatri)",irregular_student:"Irregular (Reprobadas)"};return e.jsxs("button",{onClick:()=>h(r),className:`p-4 rounded-xl border transition-all text-left ${a.id===r?"bg-blue-600 border-blue-500 shadow-lg shadow-blue-500/30":"bg-gray-700 border-gray-600 hover:bg-gray-600"}`,children:[e.jsx("div",{className:"font-bold",children:l[r]}),e.jsxs("div",{className:"text-xs text-gray-300 mt-1",children:["ID: ",r]})]},r)})})]})]})})};export{C as default};
