import{b as y,j as e,u as k}from"./index-D6mZ5jKc.js";import{b as d,u as v,L as o}from"./react-vendor-DzKpeQDD.js";const N=()=>{const[t,l]=d.useState(""),[n,a]=d.useState(!1),{summaries:u}=y(),i=v(),c=d.useRef(null),x=(u||[]).filter(r=>r.title.toLowerCase().includes(t.toLowerCase())||r.subtitle.toLowerCase().includes(t.toLowerCase()));d.useEffect(()=>{const r=m=>{c.current&&!c.current.contains(m.target)&&a(!1)};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[]);const b=r=>{l(r.target.value),a(!0)},h=r=>{i(`/course/${r}`),a(!1),l("")};return e.jsxs("div",{className:"relative",ref:c,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("ion-icon",{name:"search-outline",class:"text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-200 dark:border-gray-700 rounded-xl leading-5 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-all w-64 focus:w-80",placeholder:"Buscar cursos...",value:t,onChange:b,onFocus:()=>a(!0)})]}),n&&t.length>0&&e.jsx("div",{className:"absolute mt-2 w-full glass dark:glass-dark rounded-xl shadow-lg border border-white/50 dark:border-white/10 max-h-60 overflow-y-auto z-50 custom-scrollbar",children:x.length>0?e.jsx("ul",{children:x.map(r=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>h(r.id),className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center gap-3",children:[e.jsx("img",{src:r.thumbnail,alt:"",className:"w-8 h-8 rounded-lg object-cover"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.title}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate w-48",children:r.subtitle})]})]})},r.id))}):e.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 text-center",children:"No se encontraron resultados"})})]})},C=()=>{const[t,l]=d.useState("light");d.useEffect(()=>{const a=localStorage.getItem("iaev_theme");a?(l(a),document.documentElement.classList.toggle("dark",a==="dark")):window.matchMedia("(prefers-color-scheme: dark)").matches&&(l("dark"),document.documentElement.classList.add("dark"))},[]);const n=()=>{const a=t==="light"?"dark":"light";l(a),localStorage.setItem("iaev_theme",a),document.documentElement.classList.toggle("dark")};return e.jsx("button",{onClick:n,className:"p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors text-gray-600 dark:text-gray-300",title:`Cambiar a modo ${t==="light"?"oscuro":"claro"}`,children:t==="light"?e.jsx("ion-icon",{name:"moon-outline",class:"w-6 h-6"}):e.jsx("ion-icon",{name:"sunny-outline",class:"w-6 h-6 text-yellow-400"})})},S=()=>{var p;const{user:t,logout:l}=k(),{courses:n}=y(),a=v(),[u,i]=d.useState("");d.useEffect(()=>{const s=new Date().getHours();s<12?i("Buenos dÃ­as"):s<18?i("Buenas tardes"):i("Buenas noches")},[]);const c=()=>{l(),a("/login")},x=(t==null?void 0:t.completedLessons.length)||0,b=Math.round(x*15/60),h=(p=t==null?void 0:t.assignedCourses)==null?void 0:p[0],r=h?n.find(s=>s.id===Number(h)):n[0],m=r?(()=>{const s=r.modules.reduce((g,w)=>g+w.lessons.length,0);if(s===0)return 0;const j=r.modules.flatMap(g=>g.lessons).filter(g=>t==null?void 0:t.completedLessons.includes(g.id)).length;return Math.round(j/s*100)})():0,f=n.filter(s=>s.id!==(r==null?void 0:r.id)&&(s.cuatrimestre===(t==null?void 0:t.cuatrimestre)||s.cuatrimestre===0));return t?e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300",children:[e.jsx("header",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-200 dark:border-gray-800",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-20",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-tr from-blue-600 to-blue-400 flex items-center justify-center text-white font-bold shadow-lg shadow-blue-500/30",children:"IA"}),e.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-800 to-gray-600 dark:from-white dark:to-gray-300",children:"IAEV Online"})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("nav",{className:"hidden md:flex items-center gap-1",children:[e.jsx(o,{to:"/dashboard",className:"px-4 py-2 rounded-xl bg-blue-50 text-blue-600 font-medium transition-all",children:"Inicio"}),e.jsx(o,{to:"/courses",className:"px-4 py-2 rounded-xl text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-all dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",children:"Cursos"}),e.jsx(o,{to:"/community",className:"px-4 py-2 rounded-xl text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-all dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",children:"Comunidad"}),e.jsx(o,{to:"/bookmarks",className:"px-4 py-2 rounded-xl text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-all dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",children:"Marcadores"}),e.jsx(o,{to:"/calendar",className:"px-4 py-2 rounded-xl text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-all dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",children:"Calendario"}),e.jsx(o,{to:"/kardex",className:"px-4 py-2 rounded-xl text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition-all dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-white",children:"Kardex"})]}),e.jsx("div",{className:"h-8 w-px bg-gray-200 dark:bg-gray-700"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(N,{}),e.jsx(C,{}),e.jsxs("button",{className:"p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors relative group",children:[e.jsx("ion-icon",{name:"notifications-outline",class:"w-6 h-6 text-gray-600 dark:text-gray-300"}),e.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border-2 border-white dark:border-gray-900"})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"flex items-center gap-3 pl-2 pr-1 py-1 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-800 transition-all border border-transparent hover:border-gray-200 dark:hover:border-gray-700",children:[e.jsx("img",{src:`https://ui-avatars.com/api/?name=${t.name}&background=random`,alt:"Profile",className:"w-8 h-8 rounded-lg shadow-sm"}),e.jsx("ion-icon",{name:"chevron-down-outline",class:"w-4 h-4 text-gray-400"})]}),e.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-gray-800 rounded-xl shadow-xl border border-gray-100 dark:border-gray-700 opacity-0 invisible group-hover:opacity-100 group-hover:visible transform translate-y-2 group-hover:translate-y-0 transition-all duration-200 z-50",children:e.jsxs("div",{className:"p-2",children:[e.jsxs(o,{to:"/profile",className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[e.jsx("ion-icon",{name:"person-outline"}),"Mi Perfil"]}),e.jsxs("button",{onClick:c,className:"w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[e.jsx("ion-icon",{name:"log-out-outline"}),"Cerrar SesiÃ³n"]})]})})]})]})]})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-12 animate-fade-in",children:[e.jsxs("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:[u,", ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:t.name.split(" ")[0]})," ðŸ‘‹"]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:["Tienes ",e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"2 tareas pendientes"})," para hoy. Â¡A darle con todo!"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12",children:[e.jsx("div",{className:"lg:col-span-2",children:r?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl shadow-blue-900/5 border border-gray-100 dark:border-gray-700 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl -mr-32 -mt-32 group-hover:bg-blue-500/20 transition-all duration-500"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsxs("div",{children:[e.jsx("span",{className:"inline-block px-3 py-1 rounded-lg bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-xs font-bold mb-3 uppercase tracking-wider",children:"Continuar Aprendiendo"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:r.title}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-md",children:r.description})]}),e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-blue-50 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 text-2xl",children:e.jsx("ion-icon",{name:"code-slash-outline"})})]}),e.jsxs("div",{className:"flex items-end gap-4 mb-4",children:[e.jsxs("span",{className:"text-4xl font-bold text-gray-900 dark:text-white",children:[m,"%"]}),e.jsx("span",{className:"text-gray-400 mb-2",children:"completado"})]}),e.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-700 rounded-full h-3 mb-8 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 h-full rounded-full transition-all duration-1000 ease-out relative",style:{width:`${m}%`},children:e.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})})}),e.jsxs("button",{onClick:()=>a(`/course/${r.id}/learn`),className:"w-full sm:w-auto px-8 py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-xl font-bold hover:bg-gray-800 dark:hover:bg-gray-100 transition-all shadow-lg shadow-gray-900/20 flex items-center justify-center gap-2 group/btn",children:["Continuar LecciÃ³n",e.jsx("ion-icon",{name:"arrow-forward-outline",class:"group-hover/btn:translate-x-1 transition-transform"})]})]})]}):e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl shadow-blue-900/5 border border-gray-100 dark:border-gray-700 flex items-center justify-center h-full",children:e.jsx("p",{className:"text-gray-500",children:"No tienes cursos asignados aÃºn."})})}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-blue-600 rounded-3xl p-8 text-white shadow-xl shadow-blue-600/20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-black/10 rounded-full blur-3xl -ml-16 -mb-16"}),e.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-1",children:"Tu Progreso"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Esta semana"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 my-8",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4",children:[e.jsxs("div",{className:"text-3xl font-bold mb-1",children:[b,"h"]}),e.jsx("div",{className:"text-xs text-blue-100",children:"Aprendidas"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl p-4",children:[e.jsx("div",{className:"text-3xl font-bold mb-1",children:x}),e.jsx("div",{className:"text-xs text-blue-100",children:"Lecciones"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Promedio General"}),e.jsx("span",{className:"font-bold",children:"9.8"})]}),e.jsx("div",{className:"w-full bg-black/20 rounded-full h-2",children:e.jsx("div",{className:"bg-white h-full rounded-full w-[98%]"})})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between items-end mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-1",children:"Explorar Cursos"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Recomendados para ti basados en tus intereses"})]}),e.jsxs(o,{to:"/courses",className:"text-blue-600 font-medium hover:text-blue-700 flex items-center gap-1",children:["Ver todos ",e.jsx("ion-icon",{name:"arrow-forward-outline"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map(s=>e.jsxs("div",{className:"glass dark:glass-dark p-4 rounded-2xl hover:shadow-lg transition-all duration-300 group border border-white/50 dark:border-white/10",children:[e.jsxs("div",{className:"h-40 rounded-xl overflow-hidden mb-4 relative",children:[e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),e.jsxs("div",{className:"absolute top-3 right-3 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm px-2 py-1 rounded-lg text-xs font-bold text-gray-800 dark:text-white shadow-sm flex items-center gap-1",children:[e.jsx("ion-icon",{name:"star",class:"text-yellow-400"})," 4.8"]})]}),e.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-1 line-clamp-1 group-hover:text-blue-600 transition-colors",children:s.title}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3 line-clamp-2",children:s.subtitle}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[s.modules.length," MÃ³dulos"]}),e.jsx("button",{onClick:()=>a(`/course/${s.id}`),className:"px-3 py-1.5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 text-xs font-bold rounded-lg hover:bg-gray-800 dark:hover:bg-gray-100 transition-colors shadow-lg shadow-gray-900/20",children:"Ver Curso"})]})]},s.id))})]})]})]}):null};export{S as default};
