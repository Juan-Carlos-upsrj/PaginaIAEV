import{j as r,b as W,u as Y,c as _}from"./index-BElKbzOc.js";import{b as x,R as Q,d as G,u as H}from"./react-vendor-DzKpeQDD.js";import U from"./CommunityPage-BQAf4ZpA.js";const X=({quiz:c,onComplete:e})=>{const[t,i]=x.useState(0),[n,s]=x.useState({}),[a,o]=x.useState(!1),[l,u]=x.useState(0),m=c.questions[t],p=t===c.questions.length-1,k=d=>{s(f=>({...f,[m.id]:d}))},M=()=>{p?I():i(d=>d+1)},I=()=>{let d=0;c.questions.forEach(f=>{const g=n[f.id],C=f.answers.find(S=>S.isCorrect);C&&C.id===g&&d++}),u(d),o(!0),e(d,c.questions.length)},N=()=>{i(0),s({}),o(!1),u(0)};if(a){const d=Math.round(l/c.questions.length*100);return r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 text-center max-w-2xl mx-auto mt-8",children:[r.jsx("div",{className:"w-24 h-24 bg-gradient-to-tr from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-blue-500/30",children:r.jsx("ion-icon",{name:"trophy",class:"text-5xl text-white"})}),r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"¡Quiz Completado!"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Has demostrado tus conocimientos."}),r.jsxs("div",{className:"flex justify-center gap-8 mb-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-4xl font-extrabold text-gray-900",children:[l,"/",c.questions.length]}),r.jsx("div",{className:"text-sm text-gray-500 font-medium uppercase tracking-wider",children:"Aciertos"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-4xl font-extrabold text-green-600",children:[d,"%"]}),r.jsx("div",{className:"text-sm text-gray-500 font-medium uppercase tracking-wider",children:"Puntuación"})]})]}),r.jsx("button",{onClick:N,className:"px-8 py-3 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Intentar de Nuevo"})]})}return r.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 max-w-3xl mx-auto mt-8 border border-gray-100",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-100",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:c.title}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Pregunta ",t+1," de ",c.questions.length]})]}),r.jsx("div",{className:"w-32 h-2 bg-gray-100 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-blue-600 transition-all duration-500 ease-out",style:{width:`${(t+1)/c.questions.length*100}%`}})})]}),r.jsxs("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-6",children:m.text}),r.jsx("div",{className:"space-y-3",children:m.answers.map(d=>{const f=n[m.id]===d.id;return r.jsxs("button",{onClick:()=>k(d.id),className:`w-full text-left p-4 rounded-xl border-2 transition-all flex items-center justify-between group ${f?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-100 hover:border-blue-200 hover:bg-gray-50 text-gray-600"}`,children:[r.jsx("span",{className:"font-medium",children:d.text}),f&&r.jsx("ion-icon",{name:"checkmark-circle",class:"text-xl text-blue-500"})]},d.id)})})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{onClick:M,disabled:!n[m.id],className:`px-6 py-3 rounded-xl font-bold text-white transition-all flex items-center gap-2 ${n[m.id]?"bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-600/20 transform hover:-translate-y-0.5":"bg-gray-300 cursor-not-allowed"}`,children:[p?"Finalizar Quiz":"Siguiente Pregunta",r.jsx("ion-icon",{name:p?"checkmark-done-outline":"arrow-forward-outline"})]})})]})};var A,T;function K(){if(T)return A;T=1;var c={linear:function(e,t,i,n){var s=i-t;return s*e/n+t},easeInQuad:function(e,t,i,n){var s=i-t;return s*(e/=n)*e+t},easeOutQuad:function(e,t,i,n){var s=i-t;return-s*(e/=n)*(e-2)+t},easeInOutQuad:function(e,t,i,n){var s=i-t;return(e/=n/2)<1?s/2*e*e+t:-s/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,i,n){var s=i-t;return s*(e/=n)*e*e+t},easeOutCubic:function(e,t,i,n){var s=i-t;return s*((e=e/n-1)*e*e+1)+t},easeInOutCubic:function(e,t,i,n){var s=i-t;return(e/=n/2)<1?s/2*e*e*e+t:s/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,i,n){var s=i-t;return s*(e/=n)*e*e*e+t},easeOutQuart:function(e,t,i,n){var s=i-t;return-s*((e=e/n-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,i,n){var s=i-t;return(e/=n/2)<1?s/2*e*e*e*e+t:-s/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,i,n){var s=i-t;return s*(e/=n)*e*e*e*e+t},easeOutQuint:function(e,t,i,n){var s=i-t;return s*((e=e/n-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,i,n){var s=i-t;return(e/=n/2)<1?s/2*e*e*e*e*e+t:s/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,i,n){var s=i-t;return-s*Math.cos(e/n*(Math.PI/2))+s+t},easeOutSine:function(e,t,i,n){var s=i-t;return s*Math.sin(e/n*(Math.PI/2))+t},easeInOutSine:function(e,t,i,n){var s=i-t;return-s/2*(Math.cos(Math.PI*e/n)-1)+t},easeInExpo:function(e,t,i,n){var s=i-t;return e==0?t:s*Math.pow(2,10*(e/n-1))+t},easeOutExpo:function(e,t,i,n){var s=i-t;return e==n?t+s:s*(-Math.pow(2,-10*e/n)+1)+t},easeInOutExpo:function(e,t,i,n){var s=i-t;return e===0?t:e===n?t+s:(e/=n/2)<1?s/2*Math.pow(2,10*(e-1))+t:s/2*(-Math.pow(2,-10*--e)+2)+t},easeInCirc:function(e,t,i,n){var s=i-t;return-s*(Math.sqrt(1-(e/=n)*e)-1)+t},easeOutCirc:function(e,t,i,n){var s=i-t;return s*Math.sqrt(1-(e=e/n-1)*e)+t},easeInOutCirc:function(e,t,i,n){var s=i-t;return(e/=n/2)<1?-s/2*(Math.sqrt(1-e*e)-1)+t:s/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(e,t,i,n){var s=i-t,a,o,l;return l=1.70158,o=0,a=s,e===0?t:(e/=n)===1?t+s:(o||(o=n*.3),a<Math.abs(s)?(a=s,l=o/4):l=o/(2*Math.PI)*Math.asin(s/a),-(a*Math.pow(2,10*(e-=1))*Math.sin((e*n-l)*(2*Math.PI)/o))+t)},easeOutElastic:function(e,t,i,n){var s=i-t,a,o,l;return l=1.70158,o=0,a=s,e===0?t:(e/=n)===1?t+s:(o||(o=n*.3),a<Math.abs(s)?(a=s,l=o/4):l=o/(2*Math.PI)*Math.asin(s/a),a*Math.pow(2,-10*e)*Math.sin((e*n-l)*(2*Math.PI)/o)+s+t)},easeInOutElastic:function(e,t,i,n){var s=i-t,a,o,l;return l=1.70158,o=0,a=s,e===0?t:(e/=n/2)===2?t+s:(o||(o=n*(.3*1.5)),a<Math.abs(s)?(a=s,l=o/4):l=o/(2*Math.PI)*Math.asin(s/a),e<1?-.5*(a*Math.pow(2,10*(e-=1))*Math.sin((e*n-l)*(2*Math.PI)/o))+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*n-l)*(2*Math.PI)/o)*.5+s+t)},easeInBack:function(e,t,i,n,s){var a=i-t;return s===void 0&&(s=1.70158),a*(e/=n)*e*((s+1)*e-s)+t},easeOutBack:function(e,t,i,n,s){var a=i-t;return s===void 0&&(s=1.70158),a*((e=e/n-1)*e*((s+1)*e+s)+1)+t},easeInOutBack:function(e,t,i,n,s){var a=i-t;return s===void 0&&(s=1.70158),(e/=n/2)<1?a/2*(e*e*(((s*=1.525)+1)*e-s))+t:a/2*((e-=2)*e*(((s*=1.525)+1)*e+s)+2)+t},easeInBounce:function(e,t,i,n){var s=i-t,a;return a=c.easeOutBounce(n-e,0,s,n),s-a+t},easeOutBounce:function(e,t,i,n){var s=i-t;return(e/=n)<1/2.75?s*(7.5625*e*e)+t:e<2/2.75?s*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?s*(7.5625*(e-=2.25/2.75)*e+.9375)+t:s*(7.5625*(e-=2.625/2.75)*e+.984375)+t},easeInOutBounce:function(e,t,i,n){var s=i-t,a;return e<n/2?(a=c.easeInBounce(e*2,0,s,n),a*.5+t):(a=c.easeOutBounce(e*2-n,0,s,n),a*.5+s*.5+t)}};return A=c,A}var J=K();function Z(c){return c*Math.PI/180}function v(c,e){return c+Math.random()*(e-c)}function ee(c,e){return Math.floor(c+Math.random()*(e-c+1))}var O;(function(c){c[c.Circle=0]="Circle",c[c.Square=1]="Square",c[c.Strip=2]="Strip"})(O||(O={}));var j;(function(c){c[c.Positive=1]="Positive",c[c.Negative=-1]="Negative"})(j||(j={}));const te=1e3/60;class se{constructor(e,t,i,n){this.getOptions=t;const{colors:s,initialVelocityX:a,initialVelocityY:o}=this.getOptions();this.context=e,this.x=i,this.y=n,this.w=v(5,20),this.h=v(5,20),this.radius=v(5,10),this.vx=typeof a=="number"?v(-a,a):v(a.min,a.max),this.vy=typeof o=="number"?v(-o,0):v(o.min,o.max),this.shape=ee(0,2),this.angle=Z(v(0,360)),this.angularSpin=v(-.2,.2),this.color=s[Math.floor(Math.random()*s.length)],this.rotateY=v(0,1),this.rotationDirection=v(0,1)?j.Positive:j.Negative}update(e){const{gravity:t,wind:i,friction:n,opacity:s,drawShape:a}=this.getOptions(),o=e/te;this.x+=this.vx*o,this.y+=this.vy*o,this.vy+=t*o,this.vx+=i*o,this.vx*=n**o,this.vy*=n**o,this.rotateY>=1&&this.rotationDirection===j.Positive?this.rotationDirection=j.Negative:this.rotateY<=-1&&this.rotationDirection===j.Negative&&(this.rotationDirection=j.Positive);const l=.1*this.rotationDirection*o;if(this.rotateY+=l,this.angle+=this.angularSpin,this.context.save(),this.context.translate(this.x,this.y),this.context.rotate(this.angle),this.context.scale(1,this.rotateY),this.context.rotate(this.angle),this.context.beginPath(),this.context.fillStyle=this.color,this.context.strokeStyle=this.color,this.context.globalAlpha=s,this.context.lineCap="round",this.context.lineWidth=2,a&&typeof a=="function")a.call(this,this.context);else switch(this.shape){case O.Circle:{this.context.beginPath(),this.context.arc(0,0,this.radius,0,2*Math.PI),this.context.fill();break}case O.Square:{this.context.fillRect(-this.w/2,-this.h/2,this.w,this.h);break}case O.Strip:{this.context.fillRect(-this.w/6,-this.h/2,this.w/3,this.h);break}}this.context.closePath(),this.context.restore()}}class ne{constructor(e,t){this.x=0,this.y=0,this.w=0,this.h=0,this.lastNumberOfPieces=0,this.tweenProgress=0,this.tweenFrom=0,this.particles=[],this.particlesGenerated=0,this.removeParticleAt=n=>{this.particles.splice(n,1)},this.getParticle=()=>{const n=v(this.x,this.w+this.x),s=v(this.y,this.h+this.y);return new se(this.context,this.getOptions,n,s)},this.animate=n=>{const{canvas:s,context:a,particlesGenerated:o,lastNumberOfPieces:l}=this,{run:u,recycle:m,numberOfPieces:p,debug:k,tweenFunction:M,tweenDuration:I}=this.getOptions();if(!u)return!1;const N=this.particles.length,d=m?N:o;if(d<p){l!==p&&(this.tweenProgress=0,this.tweenFrom=d,this.lastNumberOfPieces=p),this.tweenProgress=Math.min(I,Math.max(0,this.tweenProgress+n));const f=M(this.tweenProgress,this.tweenFrom,p,I),g=Math.round(f-d);for(let C=0;C<g;C++)this.particles.push(this.getParticle());this.particlesGenerated+=g}k&&(a.font="12px sans-serif",a.fillStyle="#333",a.textAlign="right",a.fillText(`Particles: ${N}`,s.width-10,s.height-20));for(let f=this.particles.length-1;f>=0;f--){const g=this.particles[f];g.update(n),(g.y>s.height||g.y<-100||g.x>s.width+100||g.x<-100)&&(m&&d<=p?this.particles[f]=this.getParticle():this.removeParticleAt(f))}return N>0||d<p},this.canvas=e;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.getOptions=t}}const D={width:typeof window<"u"?window.innerWidth:300,height:typeof window<"u"?window.innerHeight:200,numberOfPieces:200,friction:.99,wind:0,gravity:.1,initialVelocityX:4,initialVelocityY:10,colors:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548"],opacity:1,debug:!1,tweenFunction:J.easeInOutQuad,tweenDuration:5e3,recycle:!0,run:!0};let ie=class{constructor(e,t){this.lastFrameTime=0,this.setOptionsWithDefaults=n=>{const s={confettiSource:{x:0,y:0,w:this.canvas.width,h:0}};this._options={...s,...D,...n},Object.assign(this,n.confettiSource)},this.update=(n=0)=>{const{options:{run:s,onConfettiComplete:a,frameRate:o},canvas:l,context:u}=this,m=Math.min(n-this.lastFrameTime,50);if(o&&m<1e3/o){this.rafId=requestAnimationFrame(this.update);return}this.lastFrameTime=n-(o?m%o:0),s&&(u.fillStyle="white",u.clearRect(0,0,l.width,l.height)),this.generator.animate(m)?this.rafId=requestAnimationFrame(this.update):(a&&typeof a=="function"&&this.generator.particlesGenerated>0&&a.call(this,this),this._options.run=!1)},this.reset=()=>{this.generator&&this.generator.particlesGenerated>0&&(this.generator.particlesGenerated=0,this.generator.particles=[],this.generator.lastNumberOfPieces=0)},this.stop=()=>{this.options={run:!1},this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=void 0)},this.canvas=e;const i=this.canvas.getContext("2d");if(!i)throw new Error("Could not get canvas context");this.context=i,this.generator=new ne(this.canvas,()=>this.options),this.options=t,this.update()}get options(){return this._options}set options(e){var n,s;const t=(n=this._options)==null?void 0:n.run,i=(s=this._options)==null?void 0:s.recycle;this.setOptionsWithDefaults(e),this.generator&&(Object.assign(this.generator,this.options.confettiSource),typeof e.recycle=="boolean"&&e.recycle&&i===!1&&(this.generator.lastNumberOfPieces=this.generator.particles.length)),typeof e.run=="boolean"&&e.run&&t===!1&&this.update()}};const re=Q.createRef();class B extends Q.Component{constructor(e){super(e),this.canvas=Q.createRef(),this.canvas=e.canvasRef||re}componentDidMount(){if(this.canvas.current){const e=E(this.props)[0];this.confetti=new ie(this.canvas.current,e)}}componentDidUpdate(){const e=E(this.props)[0];this.confetti&&(this.confetti.options=e)}componentWillUnmount(){this.confetti&&this.confetti.stop(),this.confetti=void 0}render(){const[e,t]=E(this.props),i={zIndex:2,position:"absolute",pointerEvents:"none",top:0,left:0,bottom:0,right:0,...t.style};return r.jsx("canvas",{width:e.width,height:e.height,ref:this.canvas,...t,style:i})}}B.defaultProps={...D};B.displayName="ReactConfetti";function E(c){const e={},t={},i={},n=[...Object.keys(D),"confettiSource","drawShape","onConfettiComplete","frameRate"],s=["canvasRef"];for(const a in c){const o=c[a];n.includes(a)?e[a]=o:s.includes(a)?s[a]=o:i[a]=o}return[e,i,t]}const ae=Q.forwardRef((c,e)=>r.jsx(B,{canvasRef:e,...c})),oe=({trigger:c,duration:e=5e3})=>{const[t,i]=x.useState(!1),[n,s]=x.useState({width:window.innerWidth,height:window.innerHeight}),a=()=>{s({width:window.innerWidth,height:window.innerHeight})};return x.useEffect(()=>(window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}),[n]),x.useEffect(()=>{if(c){i(!0);const o=setTimeout(()=>{i(!1)},e);return()=>clearTimeout(o)}},[c,e]),t?r.jsx(ae,{width:n.width,height:n.height,recycle:!1,numberOfPieces:500,gravity:.2}):null},de=()=>{const{courseId:c}=G(),e=H(),{getCourse:t}=W(),{user:i,completeQuiz:n,completeLesson:s}=Y(),{addBookmark:a,removeBookmark:o,isBookmarked:l}=_(),u=x.useMemo(()=>t(Number(c)),[c,t]),m=x.useMemo(()=>{if(!u||!i)return 0;const w=u.modules.reduce((b,P)=>b+P.lessons.length,0);if(w===0)return 0;const y=u.modules.flatMap(b=>b.lessons).filter(b=>i.completedLessons.includes(b.id)).length;return Math.round(y/w*100)},[u,i]),[p,k]=x.useState(0),[M,I]=x.useState(0),[N,d]=x.useState(!1),[f,g]=x.useState(!1),[C,S]=x.useState(!1),R=u==null?void 0:u.modules[p],h=R==null?void 0:R.lessons[M],z=x.useCallback((w,y)=>{k(w),I(y),d(!1),g(!1)},[]),L=x.useCallback(()=>{e("/dashboard")},[e]),$=x.useCallback((w,y)=>{h&&h.quiz&&w/y>=.8&&(n(h.quiz.id,w),S(!0),setTimeout(()=>S(!1),5e3))},[h,n]),V=x.useCallback(()=>{!h||!u||(l(h.id)?o(h.id):a({courseId:u.id,lessonId:h.id,courseTitle:u.title,lessonTitle:h.title}))},[h,u,l,o,a]);return u?r.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[r.jsx(oe,{trigger:C}),r.jsxs("aside",{className:"w-80 bg-white border-r border-gray-200 flex flex-col z-20 shadow-xl",children:[r.jsxs("div",{className:"p-6 border-b border-gray-100 bg-white",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[r.jsx("button",{onClick:L,className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 transition-colors",children:r.jsx("ion-icon",{name:"arrow-back-outline"})}),r.jsx("h1",{className:"font-bold text-gray-900 truncate",title:u.title,children:u.title})]}),r.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 overflow-hidden",children:r.jsx("div",{className:"bg-green-500 h-full rounded-full transition-all duration-500",style:{width:`${m}%`}})}),r.jsxs("p",{className:"text-xs text-gray-500 mt-2 font-medium",children:[m,"% Completado"]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:u.modules.map((w,y)=>r.jsxs("div",{className:"border-b border-gray-50",children:[r.jsx("div",{className:"px-6 py-4 bg-gray-50/50",children:r.jsx("h3",{className:"text-sm font-bold text-gray-700 uppercase tracking-wider",children:w.title})}),r.jsx("div",{children:w.lessons.map((b,P)=>{const F=y===p&&P===M,q=i==null?void 0:i.completedLessons.includes(b.id);return r.jsxs("button",{onClick:()=>z(y,P),className:`w-full px-6 py-4 flex items-center gap-3 text-left transition-all hover:bg-gray-50 ${F?"bg-blue-50 border-r-4 border-blue-500":"border-transparent"}`,children:[r.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs border ${q?"bg-green-500 text-white border-green-500":F?"bg-blue-500 text-white border-blue-500":"border-gray-300 text-gray-400"}`,children:q?r.jsx("ion-icon",{name:"checkmark"}):F?r.jsx("ion-icon",{name:"play"}):P+1}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:`text-sm font-medium ${F?"text-blue-700":"text-gray-600"}`,children:b.title}),r.jsxs("p",{className:"text-xs text-gray-400 mt-0.5 flex items-center gap-1",children:[r.jsx("ion-icon",{name:"time-outline"}),b.duration]})]})]},b.id)})})]},w.id))})]}),r.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[r.jsx("div",{className:"bg-white border-b border-gray-200 px-8 pt-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex gap-8",children:[r.jsx("button",{onClick:()=>g(!1),className:`pb-4 text-sm font-bold border-b-2 transition-colors ${f?"border-transparent text-gray-500 hover:text-gray-700":"border-blue-600 text-blue-600"}`,children:"Lección Actual"}),r.jsx("button",{onClick:()=>g(!0),className:`pb-4 text-sm font-bold border-b-2 transition-colors ${f?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Foro del Curso"})]}),!f&&h&&r.jsx("button",{onClick:V,className:`p-2 rounded-full transition-colors ${l(h.id)?"bg-yellow-100 text-yellow-500":"hover:bg-gray-100 text-gray-400"}`,title:l(h.id)?"Quitar marcador":"Marcar lección",children:r.jsx("ion-icon",{name:l(h.id)?"bookmark":"bookmark-outline",class:"text-xl"})})]})}),r.jsx("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:r.jsx("div",{className:"max-w-4xl mx-auto",children:f?r.jsx(U,{courseId:u.id,courseName:u.title}):h?r.jsx(r.Fragment,{children:N&&h.quiz?r.jsxs("div",{className:"animate-fade-in",children:[r.jsxs("button",{onClick:()=>d(!1),className:"mb-4 flex items-center gap-2 text-gray-500 hover:text-gray-900 transition-colors",children:[r.jsx("ion-icon",{name:"arrow-back-outline"}),"Volver a la lección"]}),r.jsx(X,{quiz:h.quiz,onComplete:$})]}):r.jsxs("div",{className:"animate-fade-in",children:[r.jsx("div",{className:"aspect-video bg-black rounded-2xl shadow-2xl overflow-hidden mb-8 ring-1 ring-gray-900/5",children:r.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${h.videoId}`,title:h.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),r.jsxs("div",{className:"flex justify-between items-start mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:h.title}),r.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:h.description})]}),h.quiz&&r.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-bold shadow-lg shadow-purple-500/30 hover:shadow-purple-500/50 transform hover:-translate-y-0.5 transition-all",children:[r.jsx("ion-icon",{name:"school-outline",class:"text-xl"}),"Tomar Quiz"]}),!h.quiz&&r.jsx("button",{onClick:()=>{s(h.id)},className:`flex items-center gap-2 px-6 py-3 rounded-xl font-bold shadow-lg transform hover:-translate-y-0.5 transition-all ${i!=null&&i.completedLessons.includes(h.id)?"bg-green-100 text-green-700 shadow-green-500/20":"bg-blue-600 text-white shadow-blue-500/30 hover:bg-blue-700"}`,children:i!=null&&i.completedLessons.includes(h.id)?r.jsxs(r.Fragment,{children:[r.jsx("ion-icon",{name:"checkmark-circle"}),"Completada"]}):r.jsxs(r.Fragment,{children:[r.jsx("ion-icon",{name:"checkmark-circle-outline"}),"Marcar como Vista"]})})]})]})}):r.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Selecciona una lección para comenzar"})})})]})]}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Curso no encontrado"}),r.jsx("button",{onClick:()=>e("/dashboard"),className:"text-blue-600 hover:underline",children:"Volver al Dashboard"})]})})};export{de as default};
